<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introdução ao tidyverse</title>
    <meta charset="utf-8" />
    <meta name="author" content="Maurício Vancine" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link href="libs/font-awesome/css/fontawesome-all.min.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introdução ao tidyverse <br><br>
## <br> 2 Revisão de estrutura de dados <br><br> xaringan [presentation ninja]
### Maurício Vancine
### 25/04/2019

---




class: clear, center, middle
background-image: url(img/r_data_structure.png)
background-size: 400px
background-position: 50% 50%

---

background-image: url(img/r_data_structure.png)
background-size: 300px
background-position: 85% 90%

# 2 Estrutura e manejo de dados

## Conteúdo

2.1 Atributos dos objetos
&lt;br&gt;
2.2 Modos dos objetos (*numeric*, *character* e *logical*)
&lt;br&gt;
2.3 Estrutura dos objetos (*vector*, *factor*, *matrix*, *data frame* e *lista*)
&lt;br&gt;
2.4 Manejo de dados unidimensionais
&lt;br&gt;
2.5 Manejo de dados bidimensionais
&lt;br&gt;
2.6 Valores faltantes e especiais
&lt;br&gt;
2.7 Diretório de trabalho
&lt;br&gt;
2.8 Importar dados
&lt;br&gt;
2.9 Conferir e manejar dados importados
&lt;br&gt;
2.10 Exportar dados

---

# 2 Estrutura e manejo de dados
## Script

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

## .center[`script_aula_02.R`]

---

# 2.1 Atributos dos objetos

## Atribuição

&lt;br&gt;&lt;br&gt;

## **palavra &lt;- dados**

--

&lt;br&gt;&lt;br&gt;


```r
## atribuicao - simbolo (&lt;-)
obj_10 &lt;- 10 
obj_10
```

```
## [1] 10
```

---

# 2.1 Atributos dos objetos

## Atributos dos objetos no R

### Objetos possuem **três características**:

&lt;br&gt;

--

### 1. **Nome**: palavra que o R reconhece os dados atribuídos

--

### 2. **Conteúdo**: dados em si

--

### 3. **Atributos**: modos (*natureza*) e estruturas (*organização*)

---

background-image: url(img/code_modes.png)
background-size: 70%
background-position: 50% 90%

# 2.2 Modos dos objetos

## Modos (*natureza*): numeric, character e logical

### **Natureza** dos **elementos** que compõem os objetos

---

# 2.2 Modos dos objetos

## **1. Numeric**: números inteiros ou decimais

```r
# numeric
obj_num &lt;- 1
obj_num
```

```
## [1] 1
```
--

```r
# mode
mode(obj_num)
```

```
## [1] "numeric"
```

---

# 2.2 Modos dos objetos

## **2. Character**: texto

--

```r
# character
obj_cha &lt;- "a" # atencao para as aspas
obj_cha
```

```
## [1] "a"
```
--

```r
# mode
mode(obj_cha)
```

```
## [1] "character"
```

---

# 2.2 Modos dos objetos

## **3. Logical**: assume apenas dois valores (TRUE ou FALSE - booleano)

--


```r
# logical
obj_log &lt;- TRUE # maiusculas e sem aspas
obj_log
```

```
## [1] TRUE
```
--

```r
# mode
mode(obj_log)
```

```
## [1] "logical"
```

---

# 2.2 Modos dos objetos

## Resumindo:

### A **natureza** dos **elementos** irá definir os **modos** dos objetos

--

&lt;br&gt;&lt;br&gt;

## Modos (*natureza*) são **três**: 

### numeric (**número**): *1*
### character (**texto**): *"a"*, *"2500"*, *"amostra_01"*
### logical (**lógico**): *TRUE* ou *FALSE*

---

# 2.3 Estrutura dos objetos

## Estruturas (*organização*): vector, factor, matrix, array, data frame e list

--

### Organização (**modos** e **dimensionalidade**) dos elementos dos objetos

--

background-image: url(img/code_data_structures1.png)
background-size: 450px
background-position: 50% 90%

---

background-image: url(img/code_data_structures2.png)
background-size: 650px
background-position: 50% 50%

# 2.3 Estrutura dos objetos

---

background-image: url(img/code_data_structures3.png)
background-size: 800px
background-position: 50% 50%

# 2.3 Estrutura dos objetos

---

# 2.3 Estrutura dos objetos

## **1. Vector**: homogêneo (*um modo*) e unidimensional (*uma dimensão*)

### O **vetor** representa medidas de uma **variável quantitativa** (discretas ou contínuas) ou **descrição** (informações em texto)

--

### Ex.: medidas tomadas em campo ao longo de uma amostragem de 5 meses

1. Amostragens: {"amostra_01", "amostra_02", "amostra_03", "amostra_04", "amostra_05"}
2. Temperatura: {15, 18, 20, 22, 18}
3. Abertura do dossel: {0.37, 0.45, 0.65, 0.75, 0.40
4. Abundância de uma espécie: {6, 3, 0, 0, 2}

---

background-image: url(img/general_vector_math.jpg)
background-size: 500px
background-position: 50% 70%

# 2.3 Estrutura dos objetos

## Não me refiro exatamente ao vetor da matemática

---

background-image: url(img/code_vector_types1.png)
background-size: 800px
background-position: 50% 50%

# 2.3 Estrutura dos objetos

## Sequência de elementos

---

background-image: url(img/code_vector_summary_tree.png)
background-size: 550px
background-position: 50% 70%

# 2.3 Estrutura dos objetos

## Tipos

---

# 2.3 Estrutura dos objetos

### Há diversas formas de se criar um **vetor**:

--

### 1. Concatenar elementos

```r
# concatenar elementos numericos
temp &lt;- c(15, 18, 20, 22, 18)
temp
```

```
## [1] 15 18 20 22 18
```
&lt;br&gt;
--

```r
# concatenar elementos de texto
amos &lt;- c("amostra_01", "amostra_02", "amostra_03", "amostra_04")
amos
```

```
## [1] "amostra_01" "amostra_02" "amostra_03" "amostra_04"
```

---

# 2.3 Estrutura dos objetos

### Há diversas formas de se criar um **vetor**:

### 2. Sequência

```r
# sequencia unitaria (x1:x2)
se &lt;- 1:10
se
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10
```
&lt;br&gt;
--

```r
# sequencia com diferentes espacamentos 
se_e &lt;- seq(from = 0, to = 100, by = 10) 
se_e
```

```
##  [1]   0  10  20  30  40  50  60  70  80  90 100
```

---

# 2.3 Estrutura dos objetos

### Há diversas formas de se criar um **vetor**:

### 3. Repetição

```r
# repeticao
# rep(x, times) # repete x tantas vezes
rep_times &lt;- rep(x = c(1, 2), times = 5)
rep_times
```

```
##  [1] 1 2 1 2 1 2 1 2 1 2
```
&lt;br&gt;
--

```r
# rep(x, each) # retete x tantas vezes de cada
rep_each &lt;- rep(x = c("a", "b"), each = 5)
rep_each
```

```
##  [1] "a" "a" "a" "a" "a" "b" "b" "b" "b" "b"
```

---

# 2.3 Estrutura dos objetos

### Há diversas formas de se criar um **vetor**:

### 4. "Colar" palavras com uma sequência numérica


```r
# palavra e sequencia numerica - sem separacao definida (" ")
am1 &lt;- paste("amostra", 1:5)
am1
```

```
## [1] "amostra 1" "amostra 2" "amostra 3" "amostra 4" "amostra 5"
```
&lt;br&gt;
--

```r
# palavra e sequencia numerica - separacao por "_0"
am2 &lt;- paste("amostra", 1:5, sep = "_0")
am2
```

```
## [1] "amostra_01" "amostra_02" "amostra_03" "amostra_04" "amostra_05"
```

---

# 2.3 Estrutura dos objetos

### Há diversas formas de se criar um **vetor**:

### 5. Amostrando aleatoriamente elementos


```r
# amostragem aleatória - sem reposição
sa_sem_rep &lt;- sample(1:100, 10)
sa_sem_rep
```

```
##  [1] 85 67 44 42 12 26 23 33 19 75
```

--


```r
# amostragem aleatória - com reposição
sa_com_rep &lt;- sample(1:10, 100, replace = TRUE)
sa_com_rep
```

```
##   [1]  6  9  8  2  5  9 10  4  7  3  4  2  4  8  4  9  5  3  5  6  1  1  2  1  6  6  2  3  7  7  4  1  6  9  3  2  1  9  3 10
##  [41]  3  4  4  5  7  2  4  7  4  3  1  6  5  8  3  3  7  3  2  4  9  1  5  4  4  2  5  9  8  9 10  7  4  6  4  2 10 10  6  9
##  [81]  8  7  1  7  6  9  3  8  2  2 10  9  7  2  3  7  8  5  3  2
```

---

class: clear,  clean, inverse, middle, center
# Exercícios

---

# Exercício 05

## Vector
### Escolham números para jogar na mega-sena
### Lembrando: são 6 valores de 1 a 60 e atribuam a um objeto

<div class="countdown" id="timer_5ea7a357" style="right:0;bottom:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">02</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

# Exercício 05

## Resposta


```r
# solucao
mega_num &lt;- sample(1:60, 6, replace = FALSE)
mega_num
```

```
## [1] 43 47 22 53  2 16
```

---

class: clear, inverse, center, middle

# E se eu criar um vetor com elementos de *modos diferentes*?

---

# 2.3 Estrutura dos objetos

## Vetor com elementos de **modos diferentes**:

--

&lt;br&gt;


```r
ve &lt;- c(1, "a", 3)
ve
```

```
## [1] "1" "a" "3"
```
--
&lt;br&gt;

```r
ve &lt;- c(1, "a", TRUE)
ve
```

```
## [1] "1"    "a"    "TRUE"
```

---

# Coerção

### Mudança do **modo** dos elementos para um **mesmo modo**

### Essa mudança segue essa ordem:

&lt;br&gt;

#### .center[`DOMINANTE` **character** &gt;&gt; **numeric** &gt;&gt; **logical** `RECESSIVO`]

--

background-image: url(img/code_modes.png)
background-size: 60%
background-position: 50% 100%

---

# Conversão

## Podemos **forçar** um vetor a ter um **modo específico**

--

### Ideia semelhante: mudar o **tipo da célula** numa planilha eletrônica

--

### Conversão

```r
# funcoes
as.character()
as.integer()
as.numeric()
as.logical()
```

---

# 2.3 Estrutura dos objetos

## **2. Factor**: homogêneo (*um modo* - sempre *numeric*), unidimensional (*uma dimensão*) e possui ainda **levels** (níveis)

--

### O **factor** representa medidas de uma **variável qualitativa**, podendo ser **nominal** ou **ordinal**

--

### Ex.: medidas tomadas em campo ao longo de uma amostragem de 6 meses
1. Amostragens: {"amostra_01", "amostra_02", "amostra_03", "amostra_04", "amostra_05"}
2. Tipo de floresta: {fechada, fechada, aberta, aberta, aberta}
3. Abundância de uma espécie: {alta, media, baixa, baixa, media}

---

background-image: url(img/code_factor.png)
background-size: 70%
background-position: 50% 75%

# 2.3 Estrutura dos objetos

## **2. Factor**: homogêneo (*um modo* - sempre *numeric*), unidimensional (*uma dimensão*) e possui ainda **levels** (níveis)

---

# 2.3 Estrutura dos objetos

## **2. Factor nominal**: variáveis nominais


```r
fa_no &lt;- factor(x = c("fechada", "fechada", "aberta", "aberta", "aberta"),
                levels = c("aberta", "fechada"))
fa_no
```

```
## [1] fechada fechada aberta  aberta  aberta 
## Levels: aberta fechada
```
--

```r
levels(fa_no)
```

```
## [1] "aberta"  "fechada"
```
---

# 2.3 Estrutura dos objetos

## **2. Factor ordinal**: variáveis ordinais

```r
fa_or &lt;- factor(x = c("alta", "media", "baixa", "baixa", "media"),
                levels = c("baixa", "media", "alta"), ordered = TRUE)
fa_or
```

```
## [1] alta  media baixa baixa media
## Levels: baixa &lt; media &lt; alta
```
--

```r
levels(fa_or)
```

```
## [1] "baixa" "media" "alta"
```

---

# 2.3 Estrutura dos objetos

## **2. Factor**: conversão

--

### Criar um vetor **character**

```r
ve_ch &lt;- c("alta", "media", "baixa", "baixa", "media")
ve_ch
```

```
## [1] "alta"  "media" "baixa" "baixa" "media"
```
--

```r
mode(ve_ch)
```

```
## [1] "character"
```
--

```r
class(ve_ch)
```

```
## [1] "character"
```

---

# 2.3 Estrutura dos objetos

## **2. Factor**: conversão

### Forçar a ser **factor nominal**

```r
fa_no &lt;- as.factor(ve_ch)
fa_no
```

```
## [1] alta  media baixa baixa media
## Levels: alta baixa media
```
--

```r
levels(fa_no)
```

```
## [1] "alta"  "baixa" "media"
```
--

```r
class(fa_no)
```

```
## [1] "factor"
```

---

class: clear,  clean, inverse, middle, center
# Exercícios

---

# Exercício 06

## Factor
### Criem um fator chamado "tr", com dois níveis ("cont" e "trat") para descrever 100 locais de amostragem, 50 de cada tratamento. O fator deve ser dessa forma:

`cont, cont, cont, ...., cont, trat, trat, ...., trat`

<div class="countdown" id="timer_5ea7a516" style="right:0;bottom:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">02</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

# Exercício 06

## Resposta

```r
# solucao 1
ch &lt;- rep(c("cont", "trat"), each = 50)
ch
          
tr &lt;- as.factor(ch)
tr
```

--


```r
# solucao 2
tr &lt;- as.factor(rep(c("cont", "trat"), each = 50))
tr
```

---

background-image: url(img/code_data_structures3.png)
background-size: 800px
background-position: 50% 50%

# 2.3 Estrutura dos objetos

## **3. Matrix**

---

# 2.3 Estrutura dos objetos

## **3. Matrix**: homogêneo (*um modo*) e bidimensional (*duas dimensão*)

--

### A **matrix** representa os dados no formato de **tabela**, com **linhas** e **colunas**

--

### As **linhas** representam **unidades amostrais** (locais, transectos, parcelas) e as **coluncas** representam **variáveis quantitativas** (discretas ou contínuas) ou **descrições** (informações em texto)

---

background-image: url(img/code_matrix.png)
background-size: 630px
background-position: 130% 200%

# 2.3 Estrutura dos objetos

## **3. Matrix**: homogêneo (*um modo*) e bidimensional (*duas dimensão*)

### Ex.: espécies amostradas 5 locais

---

class: clear, inverse, center, middle

# Esse formato lembra algo?

---

background-image: url(img/general_eletronic_sheet.png)
background-size: 700px
background-position: 50% 60%

# 2.3 Estrutura dos objetos

## **3. Matrix**: planilhas eletrônicas

---

class: clear, inverse, center, middle
background-image: url(img/gif_mind_blowing.gif)
background-size: 700px
background-position: 50% 50%

---

# 2.3 Estrutura dos objetos

## Há **duas formas** de se construir uma **matrix** no R:

### 1 Dispondo elementos

`matrix`: dispõem um vetor em um certo número de linhas e colunas


```r
# matriz - funcao matrix
# vetor
ve &lt;- 1:12
```
--

```r
# matrix - preenchimento por linhas - horizontal
ma_row &lt;- matrix(data = ve, nrow = 4, ncol = 3, byrow = TRUE)
ma_row
```

```
##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9
## [4,]   10   11   12
```

---

# 2.3 Estrutura dos objetos

## Há **duas formas** de se construir uma **matrix** no R:

### 1 Dispondo elementos

`matrix`: dispõem um vetor em um certo número de linhas e colunas


```r
# matriz - funcao matrix
# vetor
ve &lt;- 1:12
```


```r
# matrix - preenchimento por colunas - vertical
ma_col &lt;- matrix(data = ve, nrow = 4, ncol = 3, byrow = FALSE)
ma_col
```

```
##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12
```

---

# 2.3 Estrutura dos objetos

## Há **duas formas** de se construir uma **matrix** no R:

###  2 Combinando vetores
`rbind`: combina vetores por linha, i.e., vetor embaixo do outro

`cbind`: combina vetores por coluna, i.e., vetor ao lado do outro


```r
# criar dois vetores
vec_1 &lt;- c(1, 2, 3)
vec_2 &lt;- c(4, 5, 6)
```
--

```r
# combinar por linhas - vertical - um embaixo do outro
ma_rbind &lt;- rbind(vec_1, vec_2)
ma_rbind
```

```
##       [,1] [,2] [,3]
## vec_1    1    2    3
## vec_2    4    5    6
```

---

# 2.3 Estrutura dos objetos

## Há **duas formas** de se construir uma **matrix** no R:

###  2 Combinando vetores
`rbind`: combina vetores por linha, i.e., vetor embaixo do outro

`cbind`: combina vetores por coluna, i.e., vetor ao lado do outro


```r
# criar dois vetores
vec_1 &lt;- c(1, 2, 3)
vec_2 &lt;- c(4, 5, 6)
```


```r
# combinar por colunas - horizontal - um ao lado do outro
ma_cbind &lt;- cbind(vec_1, vec_2)
ma_cbind
```

```
##      vec_1 vec_2
## [1,]     1     4
## [2,]     2     5
## [3,]     3     6
```

---

class: clear,  clean, inverse, middle, center
# Exercícios

---

# Exercício 07

## Matrix

### Criem uma matriz chamada "ma", resultante da disposição de um vetor composto por 10000 valores aleatórios entre 0 e 10. A matriz deve conter 100 linhas e ser disposta por colunas

<div class="countdown" id="timer_5ea7a61b" style="right:0;bottom:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">02</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>


---

# Exercício 07

## Resposta


```r
# solucao
ma &lt;- matrix(sample(0:10, 10000, rep = TRUE), nrow = 100, byrow = FALSE)
ma
```

---

background-image: url(img/code_data_structures3.png)
background-size: 800px
background-position: 50% 50%

# 2.3 Estrutura dos objetos

## **4. Array**

---

# 2.3 Estrutura dos objetos

## **4. Array**: homogêneo (*um modo*) e multidimensional (*mais que duas dimensões*)

--

### O **array** representa combinação de **tabelas**, com **linhas**, **colunas** e **dimensões**

--

background-image: url(img/code_array.png)
background-size: 480px
background-position: 90% 100%

---

class: clear, inverse, center, middle
background-image: url(img/gif_jim_carrey.gif)
background-size: 700px
background-position: 50% 50%

---

# 2.3 Estrutura dos objetos

## Há **uma forma** de se construir um **array** no R:

### 1 Dispondo elementos

`array`: dispõem um vetor em um certo número de linhas, colunas e dimensões....


```r
# vetor
ve &lt;- 1:8
ve
```

```
## [1] 1 2 3 4 5 6 7 8
```

---

# 2.3 Estrutura dos objetos

## Há **uma forma** de se construir um **array** no R:

### 1 Dispondo elementos

`array`: dispõem um vetor em um certo número de linhas, colunas e dimensões....

```r
ar &lt;- array(data = ve, dim = c(2, 2, 2))
ar
```

```
## , , 1
## 
##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4
## 
## , , 2
## 
##      [,1] [,2]
## [1,]    5    7
## [2,]    6    8
```

---

background-image: url(img/code_data_array.png)
background-size: 700px
background-position: 50% 120%

# 2.3 Estrutura dos objetos

## Até o momento vimos **estruturas homogêneas**

---

background-image: url(img/code_data_same.png)
background-size: 700px
background-position: 50% 120%

# 2.3 Estrutura dos objetos

## Agora veremos as **estruturas heterogêneos**

---

background-image: url(img/code_data_structures3.png)
background-size: 800px
background-position: 50% 50%

# 2.3 Estrutura dos objetos

## **5. Data frame**

---

# 2.3 Estrutura dos objetos

## **5. Data frame**: heterogêneo (*mais de um modo*) e bidimensional (*duas dimensões*)

--

### O **data frame** representa dados no formato de **tabela**, com **linhas** e **colunas**

--

### As **linhas** representam **unidades amostrais** (locais, transectos, parcelas) e as **colunas** representam **descrições** (informações em texto), **variáveis quantitativas** (discretas ou contínuas) e/ou **variáveis qualitativas** (nominais ou ordinais)

---

background-image: url(img/code_data_structures3.png)
background-size: 800px
background-position: 50% 60%

# 2.3 Estrutura dos objetos

## **5. Data frame**: heterogêneo (*mais de um modo*) e bidimensional (*duas dimensões*)

---

class: clear, inverse, center, middle

# Esse formato também lembra algo?

---

background-image: url(img/general_eletronic_sheet.png)
background-size: 700px
background-position: 50% 60%

# 2.3 Estrutura dos objetos

## **5. Data frame**: planilhas eletrônicas

---

class: clear, inverse, center, middle

# Esse é justamente o formato de entrada dos dados de planilhas eletrônicas!

---

class: clear,  inverse, center, middle
background-image: url(img/gif_mind_blowing2.gif)
background-size: 700px

---

# 2.3 Estrutura dos objetos

## Há **uma forma** de se construir um **data frame** no R:

### 1 Combinando vetores horizontalmente

`data.frame`: combina vetores horizontalmente, um ao lado do outro. Semelhante à função `cbind`


```r
# criar três vetores
vec_ch &lt;- c("sp1", "sp2", "sp3")
vec_nu &lt;- c(4, 5, 6)
vec_fa &lt;- factor(c("campo", "floresta", "floresta"))
```
--

```r
# data.frame - combinar por colunas - horizontal - um ao lado do outro
df &lt;- data.frame(vec_ch, vec_nu, vec_fa)
df
```

```
##   vec_ch vec_nu   vec_fa
## 1    sp1      4    campo
## 2    sp2      5 floresta
## 3    sp3      6 floresta
```

---

# 2.3 Estrutura dos objetos

## Há **uma forma** de se construir um **data frame** no R:

### 1 Combinando vetores horizontalmente

### Também podemos informar o nome das colunas

--

```r
# data.frame
df &lt;- data.frame(especies = vec_ch, 
                 abundancia = vec_nu, 
                 vegetacao = vec_fa)
df
```

```
##   especies abundancia vegetacao
## 1      sp1          4     campo
## 2      sp2          5  floresta
## 3      sp3          6  floresta
```

---

# 2.3 Estrutura dos objetos

## **data frame** vs **cbind**

### Criação dos vetores

```r
## vetores
pa &lt;- paste("parcela", 1:4, sep = "_")
pa
```

```
## [1] "parcela_1" "parcela_2" "parcela_3" "parcela_4"
```
--

```r
pe &lt;- sample(0:1, 4, rep = TRUE)
pe
```

```
## [1] 0 1 1 1
```
--

```r
tr &lt;- factor(rep(c("trat", "cont"), each = 2))
tr
```

```
## [1] trat trat cont cont
## Levels: cont trat
```

---

# 2.3 Estrutura dos objetos

### Qual a diferença?


```r
# uniao de vetores
df &lt;- data.frame(pa, pe, tr)
df
```

```
##          pa pe   tr
## 1 parcela_1  0 trat
## 2 parcela_2  1 trat
## 3 parcela_3  1 cont
## 4 parcela_4  1 cont
```
--

```r
str(df)
```

```
## 'data.frame':	4 obs. of  3 variables:
##  $ pa: Factor w/ 4 levels "parcela_1","parcela_2",..: 1 2 3 4
##  $ pe: int  0 1 1 1
##  $ tr: Factor w/ 2 levels "cont","trat": 2 2 1 1
```

---

# 2.3 Estrutura dos objetos

### Qual a diferença?


```r
# uniao de vetores
df_c &lt;- cbind(pa, pe, tr)
df_c
```

```
##      pa          pe  tr 
## [1,] "parcela_1" "0" "2"
## [2,] "parcela_2" "1" "2"
## [3,] "parcela_3" "1" "1"
## [4,] "parcela_4" "1" "1"
```
--

```r
str(df_c)
```

```
##  chr [1:4, 1:3] "parcela_1" "parcela_2" "parcela_3" "parcela_4" "0" "1" "1" "1" "2" "2" "1" "1"
##  - attr(*, "dimnames")=List of 2
##   ..$ : NULL
##   ..$ : chr [1:3] "pa" "pe" "tr"
```

---

class: clear,  clean, inverse, middle, center
# Exercícios

---

# Exercício 08

## Data frame

### Criem um data frame "df", resultante da composição desses vetores: 
`id: 1:50`

`sp: sp01, sp02, ..., sp49, sp50`

`ab: 50 valores aleatórios entre 0 a 5`

<div class="countdown" id="timer_5ea7a594" style="right:0;bottom:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">02</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

# Exercício 08

## Resposta


```r
# solucao
id &lt;- 1:50
id

sp &lt;- c(paste("sp", 1:9, sep = "0"), paste("sp", 10:50, sep = ""))
sp

ab &lt;- sample(0:5, 50, replace = TRUE)
ab

df &lt;- data.frame(id, sp, ab)
df
```

---

background-image: url(img/code_data_structures3.png)
background-size: 800px
background-position: 50% 50%

# 2.3 Estrutura dos objetos

## **6. List**

---

# 2.3 Estrutura dos objetos

## **6. List**: heterogêneo (*mais de um modo*) e unidimensional (*uma dimensão*)

--

### Tipo **especial de vetor** que aceita **objetos** como **elementos**

--

### Estrutura de dados utilizado para **agrupar objetos**

--

### É a **saída** de muitas funções que fazem **análises estatísticas**

--

background-image: url(img/code_list.png)
background-size: 300px
background-position: 50% 95%

---

# 2.3 Estrutura dos objetos

## **6. List**: heterogêneo (*mais de um modo*) e unidimensional (*uma dimensão*)


```r
li &lt;- list(rep(1, 20), # vector
           factor(1, 1), # factor
           cbind(c(1, 2), c(1, 2))) # matrix
li
```

```
## [[1]]
##  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
## 
## [[2]]
## [1] 1
## Levels: 1
## 
## [[3]]
##      [,1] [,2]
## [1,]    1    1
## [2,]    2    2
```

---

class: clear, inverse, center, middle

# Dúvidas?

---

class: clear, inverse, center, middle

# Bora manejar isso tudo?

---

# 2.4 Manejo de dados (1D)

## Vetor e fator

### **1. Indexação []**: acessa elementos de vetores e fatores

```r
## indexacao []
# fixar a amostragem
set.seed(42)

# vetor
se &lt;- seq(0, 5, .01)
se
```

```
##   [1] 0.00 0.01 0.02 0.03 0.04 0.05 0.06 0.07 0.08 0.09 0.10 0.11 0.12 0.13 0.14 0.15 0.16 0.17 0.18 0.19 0.20 0.21 0.22 0.23
##  [25] 0.24 0.25 0.26 0.27 0.28 0.29 0.30 0.31 0.32 0.33 0.34 0.35 0.36 0.37 0.38 0.39 0.40 0.41 0.42 0.43 0.44 0.45 0.46 0.47
##  [49] 0.48 0.49 0.50 0.51 0.52 0.53 0.54 0.55 0.56 0.57 0.58 0.59 0.60 0.61 0.62 0.63 0.64 0.65 0.66 0.67 0.68 0.69 0.70 0.71
##  [73] 0.72 0.73 0.74 0.75 0.76 0.77 0.78 0.79 0.80 0.81 0.82 0.83 0.84 0.85 0.86 0.87 0.88 0.89 0.90 0.91 0.92 0.93 0.94 0.95
##  [97] 0.96 0.97 0.98 0.99 1.00 1.01 1.02 1.03 1.04 1.05 1.06 1.07 1.08 1.09 1.10 1.11 1.12 1.13 1.14 1.15 1.16 1.17 1.18 1.19
## [121] 1.20 1.21 1.22 1.23 1.24 1.25 1.26 1.27 1.28 1.29 1.30 1.31 1.32 1.33 1.34 1.35 1.36 1.37 1.38 1.39 1.40 1.41 1.42 1.43
## [145] 1.44 1.45 1.46 1.47 1.48 1.49 1.50 1.51 1.52 1.53 1.54 1.55 1.56 1.57 1.58 1.59 1.60 1.61 1.62 1.63 1.64 1.65 1.66 1.67
## [169] 1.68 1.69 1.70 1.71 1.72 1.73 1.74 1.75 1.76 1.77 1.78 1.79 1.80 1.81 1.82 1.83 1.84 1.85 1.86 1.87 1.88 1.89 1.90 1.91
## [193] 1.92 1.93 1.94 1.95 1.96 1.97 1.98 1.99 2.00 2.01 2.02 2.03 2.04 2.05 2.06 2.07 2.08 2.09 2.10 2.11 2.12 2.13 2.14 2.15
## [217] 2.16 2.17 2.18 2.19 2.20 2.21 2.22 2.23 2.24 2.25 2.26 2.27 2.28 2.29 2.30 2.31 2.32 2.33 2.34 2.35 2.36 2.37 2.38 2.39
## [241] 2.40 2.41 2.42 2.43 2.44 2.45 2.46 2.47 2.48 2.49 2.50 2.51 2.52 2.53 2.54 2.55 2.56 2.57 2.58 2.59 2.60 2.61 2.62 2.63
## [265] 2.64 2.65 2.66 2.67 2.68 2.69 2.70 2.71 2.72 2.73 2.74 2.75 2.76 2.77 2.78 2.79 2.80 2.81 2.82 2.83 2.84 2.85 2.86 2.87
## [289] 2.88 2.89 2.90 2.91 2.92 2.93 2.94 2.95 2.96 2.97 2.98 2.99 3.00 3.01 3.02 3.03 3.04 3.05 3.06 3.07 3.08 3.09 3.10 3.11
## [313] 3.12 3.13 3.14 3.15 3.16 3.17 3.18 3.19 3.20 3.21 3.22 3.23 3.24 3.25 3.26 3.27 3.28 3.29 3.30 3.31 3.32 3.33 3.34 3.35
## [337] 3.36 3.37 3.38 3.39 3.40 3.41 3.42 3.43 3.44 3.45 3.46 3.47 3.48 3.49 3.50 3.51 3.52 3.53 3.54 3.55 3.56 3.57 3.58 3.59
## [361] 3.60 3.61 3.62 3.63 3.64 3.65 3.66 3.67 3.68 3.69 3.70 3.71 3.72 3.73 3.74 3.75 3.76 3.77 3.78 3.79 3.80 3.81 3.82 3.83
## [385] 3.84 3.85 3.86 3.87 3.88 3.89 3.90 3.91 3.92 3.93 3.94 3.95 3.96 3.97 3.98 3.99 4.00 4.01 4.02 4.03 4.04 4.05 4.06 4.07
## [409] 4.08 4.09 4.10 4.11 4.12 4.13 4.14 4.15 4.16 4.17 4.18 4.19 4.20 4.21 4.22 4.23 4.24 4.25 4.26 4.27 4.28 4.29 4.30 4.31
## [433] 4.32 4.33 4.34 4.35 4.36 4.37 4.38 4.39 4.40 4.41 4.42 4.43 4.44 4.45 4.46 4.47 4.48 4.49 4.50 4.51 4.52 4.53 4.54 4.55
## [457] 4.56 4.57 4.58 4.59 4.60 4.61 4.62 4.63 4.64 4.65 4.66 4.67 4.68 4.69 4.70 4.71 4.72 4.73 4.74 4.75 4.76 4.77 4.78 4.79
## [481] 4.80 4.81 4.82 4.83 4.84 4.85 4.86 4.87 4.88 4.89 4.90 4.91 4.92 4.93 4.94 4.95 4.96 4.97 4.98 4.99 5.00
```

```r
ve &lt;- sample(se, 10)
ve
```

```
##  [1] 0.48 4.84 3.20 1.52 0.73 2.27 1.45 1.21 5.00 1.27
```

---

# 2.4 Manejo de dados (1D)

## Vetor e fator

### **1. Indexação []**

### Selecionar elementos

```r
# seleciona o quinto elemento
ve[5]
```

```
## [1] 0.73
```
--

```r
# seleciona os elementos de 10 a 50
ve[1:5] 
```

```
## [1] 0.48 4.84 3.20 1.52 0.73
```
--

```r
# seleciona os elementos 10 e 100 e atribuir
ve_sel &lt;- ve[c(1, 10)]
ve_sel
```

```
## [1] 0.48 1.27
```

---

# 2.4 Manejo de dados (1D)

## Vetor e fator

### **1. Indexação []**

### Retirar elementos

```r
# retirar o decimo elemento
ve[-10]
```

```
## [1] 0.48 4.84 3.20 1.52 0.73 2.27 1.45 1.21 5.00
```
--

```r
# retirar os elementos 20 a 90
ve[-(2:9)]
```

```
## [1] 0.48 1.27
```
--

```r
# retirar os elementos 50 e 100 e atribuir
ve_sub &lt;- ve[-c(5, 10)]
ve_sub
```

```
## [1] 0.48 4.84 3.20 1.52 2.27 1.45 1.21 5.00
```

---

# 2.4 Manejo de dados (1D)

## Vetor e fator

### **2 Seleção condicional**: selecionar elementos por condições 

```r
# dois vetores
foo &lt;- 42
bar &lt;- 23
```
--

```r
# operadores relacionais - saidas booleanas (TRUE ou FALSE)
foo == bar # igualdade
foo != bar # diferenca 
foo &gt; bar # maior
foo &gt;= bar # maior ou igual
foo &lt; bar # menor
foo &lt;= bar # menor ou igual
```

---

# 2.4 Manejo de dados (1D)

## Vetor e fator

### **2 Seleção condicional**

```r
# quais valores sao maiores que 1?
ve &gt; 1
```

```
##  [1] FALSE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE
```

--

```r
# valores acima de 1
ve[ve &gt; 1] 
```

```
## [1] 4.84 3.20 1.52 2.27 1.45 1.21 5.00 1.27
```
--

```r
# atribuir valores maiores que 1
ve_maior1 &lt;- ve[ve &gt; 1]
ve_maior1
```

```
## [1] 4.84 3.20 1.52 2.27 1.45 1.21 5.00 1.27
```

---

# 2.4 Manejo de dados (1D)

## Vetor e fator

### **3 Funções de manejo**: *max*, *min*, *range*, *length*, *sort*, e *round*

```r
# maximo
max(ve)
```

```
## [1] 5
```
--

```r
# minimo
min(ve)
```

```
## [1] 0.48
```

---

# 2.4 Manejo de dados (1D)

## Vetor e fator

### **3 Funções de manejo**: *max*, *min*, *range*, *length*, *sort*, e *round*

```r
# amplitude
range(ve)
```

```
## [1] 0.48 5.00
```
--

```r
# comprimento
length(ve)
```

```
## [1] 10
```

---

# 2.4 Manejo de dados (1D)

## Vetor e fator

### **3 Funções de manejo**: *max*, *min*, *range*, *length*, *sort* e *round*

```r
# ordenar crescente
sort(ve)
```

```
##  [1] 0.48 0.73 1.21 1.27 1.45 1.52 2.27 3.20 4.84 5.00
```
--

```r
# ordenar decrescente
sort(ve, dec = TRUE)
```

```
##  [1] 5.00 4.84 3.20 2.27 1.52 1.45 1.27 1.21 0.73 0.48
```

---

# 2.4 Manejo de dados (1D)

## Vetor e fator

### **3 Funções de manejo**: *max*, *min*, *range*, *length*, *sort* e *round*

```r
# arredondamento
ve
```

```
##  [1] 0.48 4.84 3.20 1.52 0.73 2.27 1.45 1.21 5.00 1.27
```
--

```r
# arredondamento
round(ve, digits = 1)
```

```
##  [1] 0.5 4.8 3.2 1.5 0.7 2.3 1.4 1.2 5.0 1.3
```
--

```r
# arredondamento
round(ve, digits = 0)
```

```
##  [1] 0 5 3 2 1 2 1 1 5 1
```

---

# 2.4 Manejo de dados (1D)

## Vetor e fator

### **3 Funções de manejo**: *any()*, *all()* e *which()*

```r
# algum?
any(ve &gt; 1)
```

```
## [1] TRUE
```
--

```r
# todos?
all(ve &gt; 1)
```

```
## [1] FALSE
```
--

```r
# qual(is)?
which(ve &gt; 1)
```

```
## [1]  2  3  4  6  7  8  9 10
```

---

# 2.4 Manejo de dados (1D)

## Vetor e fator

### **3 Funções de manejo**: *subset* e *ifelse*

```r
# subconjunto
subset(ve, ve &gt; 1)
```

```
## [1] 4.84 3.20 1.52 2.27 1.45 1.21 5.00 1.27
```
--

```r
# condicao para uma operacao
ifelse(ve &gt; 1, 1, 0)
```

```
##  [1] 0 1 1 1 0 1 1 1 1 1
```

---

background-image: url(img/code_df_manipulation2.png)
background-size: 700px
background-position: 50% 70%

# 2.5 Manejo de dados (2D)

## Matrizes e Data Frames

---

# 2.5 Manejo de dados (2D)

## Matrizes e Data Frames

### **1 Indexação []**

```r
# matriz
ma &lt;- matrix(1:12, 4, 3)
ma 
```

```
##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12
```

---

background-image: url(img/code_df_manipulation1.png)
background-size: 400px
background-position: 50% 50%

# 2.5 Manejo de dados (2D)

## Matrizes e Data Frames

### **1 Indexação []**

---

# 2.5 Manejo de dados (2D)

## Matrizes e Data Frames

### **1 Indexação []**

```r
ma[3, ] # linha 3
```

```
## [1]  3  7 11
```
--

```r
ma[, 2] # coluna 2
```

```
## [1] 5 6 7 8
```
--

```r
ma[1, 2] # elemento da linha 1 e coluna 2
```

```
## [1] 5
```
--

```r
ma[1, 1:2] # elementos da linha 1 e coluna 1 e 2
```

```
## [1] 1 5
```

---

# 2.5 Manejo de dados (2D)

## Matrizes e Data Frames

### **1 Indexação []**

```r
ma[1, c(1, 3)] # elementos da linha 1 e coluna 1 e 3
```

```
## [1] 1 9
```
--

```r
ma_sel &lt;- ma[1, c(1, 3)]
ma_sel
```

```
## [1] 1 9
```

---

background-image: url(img/code_df_manipulation2.png)
background-size: 700px
background-position: 50% 75%

# 2.5 Manejo de dados (2D)

## Matrizes e Data Frames

### **1 Indexação []**: resumindo

---

# 2.5 Manejo de dados (2D)

## Data Frames

### **1 Indexação $**

```r
# criar tres vetores
sp &lt;- paste("sp", 1:10, sep = "")
abu &lt;- 1:10
flo &lt;- factor(rep(c("campo", "floresta"), each = 5))
```
--

```r
# data frame
df &lt;- data.frame(sp, abu, flo)
df
```

```
##      sp abu      flo
## 1   sp1   1    campo
## 2   sp2   2    campo
## 3   sp3   3    campo
## 4   sp4   4    campo
## 5   sp5   5    campo
## 6   sp6   6 floresta
## 7   sp7   7 floresta
## 8   sp8   8 floresta
## 9   sp9   9 floresta
## 10 sp10  10 floresta
```

---

# 2.5 Manejo de dados (2D)

## Data Frames

### **1 Indexação $**

```r
# $ funciona apenas para data frame 
df$sp 
```

```
##  [1] sp1  sp2  sp3  sp4  sp5  sp6  sp7  sp8  sp9  sp10
## Levels: sp1 sp10 sp2 sp3 sp4 sp5 sp6 sp7 sp8 sp9
```
--

```r
df$abu
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10
```
--

```r
df$flo
```

```
##  [1] campo    campo    campo    campo    campo    floresta floresta floresta floresta floresta
## Levels: campo floresta
```

---

# 2.5 Manejo de dados (2D)

## Data Frames

### **1 Indexação $**

```r
length(df$abu)
```

```
## [1] 10
```

```r
max(df$abu)
```

```
## [1] 10
```

```r
min(df$abu)
```

```
## [1] 1
```

```r
range(df$abu)
```

```
## [1]  1 10
```

---

# 2.5 Manejo de dados (2D)

## Data Frames

### **1 Indexação $ e mudanças de colunas**

```r
mode(df$abu)
```

```
## [1] "numeric"
```
--

```r
# converter colunas
df$abu &lt;- as.character(df$abu)
```
--

```r
df$abu
```

```
##  [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10"
```

```r
mode(df$abu)
```

```
## [1] "character"
```

---

# 2.5 Manejo de dados (2D)

## Data Frames

### **1 Indexação $ e mudanças de colunas**

```r
df$abu &lt;- as.numeric(df$abu)
```
--

```r
df$abu
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10
```

```r
mode(df$abu)
```

```
## [1] "numeric"
```

---

# 2.5 Manejo de dados (2D)

## Data Frames

### **1 Indexação $ e adicionar uma coluna**

```r
set.seed(1)
df$abu2 &lt;- sample(0:1, nrow(df), rep = TRUE)
```
--

```r
df$abu2
```

```
##  [1] 0 1 0 0 1 0 0 0 1 1
```
--

```r
df
```

```
##      sp abu      flo abu2
## 1   sp1   1    campo    0
## 2   sp2   2    campo    1
## 3   sp3   3    campo    0
## 4   sp4   4    campo    0
## 5   sp5   5    campo    1
## 6   sp6   6 floresta    0
## 7   sp7   7 floresta    0
## 8   sp8   8 floresta    0
## 9   sp9   9 floresta    1
## 10 sp10  10 floresta    1
```

---

# 2.5 Manejo de dados (2D)

## Data Frames

### **2 Seleção condicional**

### Selecionar linhas = filtro do planilha eletrônica

```r
# selecionar linhas de uma matriz ou data frame 
df[df$abu &gt; 4, ]
```

```
##      sp abu      flo abu2
## 5   sp5   5    campo    1
## 6   sp6   6 floresta    0
## 7   sp7   7 floresta    0
## 8   sp8   8 floresta    0
## 9   sp9   9 floresta    1
## 10 sp10  10 floresta    1
```

---

# 2.5 Manejo de dados (2D)

## Data Frames

### **2 Seleção condicional**

### Selecionar linhas = filtro do planilha eletrônica

```r
# selecionar linhas de uma matriz ou data frame 
df[df$abu2 == 0, ]
```

```
##    sp abu      flo abu2
## 1 sp1   1    campo    0
## 3 sp3   3    campo    0
## 4 sp4   4    campo    0
## 6 sp6   6 floresta    0
## 7 sp7   7 floresta    0
## 8 sp8   8 floresta    0
```

---

# 2.5 Manejo de dados (2D)

## Data Frames

### **2 Seleção condicional**

### Selecionar linhas = filtro do planilha eletrônica

```r
# selecionar linhas de uma matriz ou data frame 
df[df$flo == "floresta", ]
```

```
##      sp abu      flo abu2
## 6   sp6   6 floresta    0
## 7   sp7   7 floresta    0
## 8   sp8   8 floresta    0
## 9   sp9   9 floresta    1
## 10 sp10  10 floresta    1
```

---

# 2.5 Manejo de dados (2D)

## Matrizes e Data Frames

### **3 Funções de visualização e manejo**

**head()**: mostra as primeiras 6 linhas&lt;br&gt;
**tail()**: mostra as últimas 6 linhas&lt;br&gt;
**nrow()**: mostra o número de linhas&lt;br&gt;
**ncol()**: mostra o número de colunas&lt;br&gt;
**dim()**: mostra o número de linhas e de colunas&lt;br&gt;
**rownames()**: mostra os nomes das linhas (locais)&lt;br&gt;
**colnames()**: mostra os nomes das colunas (variáveis)&lt;br&gt;
**str()**: mostra as classes de cada coluna (estrutura)&lt;br&gt;
**summary()**: mostra um resumo dos valores de cada coluna&lt;br&gt;
**rowSums()**: calcula a soma das linhas (horizontal)&lt;br&gt;
**colSums()**: calcula a soma das colunas (vertical)&lt;br&gt;
**rowMeans()**: calcula a média das linhas (horizontal)&lt;br&gt;
**colMeans()**: calcula a média das colunas (vertical)

---

# 2.6 Valores faltantes e especiais

## São **valores reservados** que representam *dados faltantes*, *indefinições matemáticas*, *infinitos* e *objetos nulos*

&lt;br&gt;&lt;br&gt;

### **1 NA (Not Available)**

### **2 NaN (Not a Number)**

### **3 Inf (Infinito)**

### **4 NULL**

---

# 2.6 Valores faltantes e especiais

## **1 NA (Not Available)**

### Significa dado faltante/indisponível

### **NA** deve ser maiúsculo


```r
# na - not available
foo_na &lt;- NA
foo_na
```

```
## [1] NA
```

---

# 2.6 Valores faltantes e especiais

## **1 NA (Not Available)**

### Criar um data frame com NA

```r
# data frame
df &lt;- data.frame(var1 = c(1, 4, 2, NA), var2 = c(1, 4, 5, 2))
df
```

```
##   var1 var2
## 1    1    1
## 2    4    4
## 3    2    5
## 4   NA    2
```

---

# 2.6 Valores faltantes e especiais

## **1 NA (Not Available)**

### Função para verificar a **presença/ausência** de NA's

```r
is.na(df)
```

```
##       var1  var2
## [1,] FALSE FALSE
## [2,] FALSE FALSE
## [3,] FALSE FALSE
## [4,]  TRUE FALSE
```

--

### Função para verificar a **presença de algum** NA's

```r
any(is.na(df))
```

```
## [1] TRUE
```

---

# 2.6 Valores faltantes e especiais

## **1 NA (Not Available)**

### Vamos retirar as linhas que possuem NA's

```r
df_sem_na &lt;- na.omit(df)
df_sem_na
```

```
##   var1 var2
## 1    1    1
## 2    4    4
## 3    2    5
```
--

```r
nrow(df)
```

```
## [1] 4
```

```r
nrow(df_sem_na)
```

```
## [1] 3
```

---

# 2.6 Valores faltantes e especiais

## **1 NA (Not Available)**

### Vamos substituir os NA's por 0

```r
# substituir na por 0
df[is.na(df)] &lt;- 0
df
```

```
##   var1 var2
## 1    1    1
## 2    4    4
## 3    2    5
## 4    0    2
```

---

# 2.6 Valores faltantes e especiais

## **2 NaN (Not a Number)**

### Representa indefinições matemáticas como 0/0 e log(-1)


```r
# nan - not a number
0/0
```

```
## [1] NaN
```

```r
log(-1)
```

```
## [1] NaN
```

---

# 2.6 Valores faltantes e especiais

## **2 NaN (Not a Number)**

### Um **NaN** é um **NA**, mas o **NA** não é um **NaN**


```r
# criar um vetor
ve &lt;- c(1, 2, 3, NA, NaN)
ve
```

```
## [1]   1   2   3  NA NaN
```
--

```r
# verificar a presenca de na
is.na(ve)
```

```
## [1] FALSE FALSE FALSE  TRUE  TRUE
```
--

```r
# verificar a presenca de nan
is.nan(ve)
```

```
## [1] FALSE FALSE FALSE FALSE  TRUE
```

---

# 2.6 Valores faltantes e especiais

## **3 Inf (Infinito)**

### É um número muito grande ou um limite matemático, e.g., 10^310 e 1/0

```r
# limite matematico
1/0
```

```
## [1] Inf
```

```r
# numero grande
10^310
```

```
## [1] Inf
```

---

# 2.6 Valores faltantes e especiais

## **4 NULL**

### Representa um objeto nulo

### Útil para preenchimento de laços e outras aplicações de programação


```r
# objeto nulo
nulo &lt;- NULL
nulo
```

```
## NULL
```

---

# 2.7 Diretório de trabalho

## Endereço da pasta onde o R irá **importar e exportar** os dados

**Atalho**: `ctrl + shift + H`

### **Windows: inverter as barras ("\" por "/")!**


```r
## diretorio de trabalho
# pasta onde o r ira importar e exportar os arquivos

# definir o diretorio de trabalho
setwd("/home/mude/data/github/minicurso-tidyverse/03_dados")
```
--

```r
# verificar o diretorio
getwd()
```
--

```r
# verificar os arquivos
dir()
```

---

class: clear, inverse, center, middle

# Vamos trabalhar com dados reais?

---

class: clear, inverse, center, middle

background-image: url(img/general_real_data.jpg)
background-size: 500px
background-position: 50% 30%

---

background-image: url(img/general_data_eu_mesmo.png)
background-size: 600px
background-position: 50% 90%

# 3.3 readr

## ATLANTIC AMPHIBIANS: a dataset of amphibian communities from the Atlantic Forests of South America

### Eu mesmo et al. (2018)

---

# 2.8 Importar dados

## Os arquivos de tabelas geralmente estão num desses **três** formatos:

&lt;br&gt;&lt;br&gt;

### 1. csv
### 2. txt
### 3. xlsx

---

# 2.8 Importar dados

## Ler uma planilha eletrônica (.csv)

```r
# ler uma planilha eletronica (.csv)
read.csv("ATLANTIC_AMPHIBIANS_sites.csv")
```

---

# 2.8 Importar dados

## Ler e atribuir uma planilha eletrônica (.csv) a um objeto


```r
# ler e atribuir uma planilha eletronica (.csv) a um objeto
da &lt;- read.csv("ATLANTIC_AMPHIBIANS_sites.csv")
```
--

```r
# ver os dados
da
```
--

```r
# conferir a classe
class(da)
```

---

class: clear,  inverse, center, middle

# IMPORTANTE: a tabela importada para o R sempre será um **data frame**!

---

# 2.8 Importar dados

## Ler e atribuir uma planilha simples (.txt) a um objeto

--


```r
# ler e atribuir uma planilha simples (.txt) a um objeto
da &lt;- read.table("ATLANTIC_AMPHIBIANS_sites.txt", header = TRUE, sep = "\t")
da
```

---

# 2.8 Importar dados

## Ler e atribuir uma planilha eletrônica (.xlsx) a um objeto

### Pacote **openxlsx**

```r
# pacote openxlsx
# install.packages("openxlsx")
library(openxlsx)
```

--

### Importar os dados

```r
# ler e atribuir uma planilha eletrônica (.xlsx) a um objeto
da &lt;- openxlsx::read.xlsx("ATLANTIC_AMPHIBIANS_sites.xlsx", sheet = 1)
da
```

---

# 2.9 Conferir e manejar dados

## Conjunto de funções para conferir os dados

&lt;br&gt;&lt;br&gt;

**head()**: mostra as primeiras 6 linhas&lt;br&gt;
**tail()**: mostra as últimas 6 linhas&lt;br&gt;
**nrow()**: mostra o número de linhas&lt;br&gt;
**ncol()**: mostra o número de colunas&lt;br&gt;
**dim()**: mostra o número de linhas e de colunas&lt;br&gt;
**rownames()**: mostra os nomes das linhas (locais)&lt;br&gt;
**colnames()**: mostra os nomes das colunas (variáveis)&lt;br&gt;
**str()**: mostra as classes de cada coluna (estrutura)&lt;br&gt;
**summary()**: mostra um resumo dos valores de cada coluna

---

# 2.9 Conferir e manejar dados

## **head()**: mostra as primeiras 6 linhas



```r
head(da)
```

```
##        id reference_number species_number record sampled_habitat active_methods passive_methods complementary_methods
## 1 amp1001             1001             19     ab           fo,ll             as              pt                  &lt;NA&gt;
## 2 amp1002             1002             16     co        fo,la,ll             as              pt                  &lt;NA&gt;
## 3 amp1003             1002             14     co        fo,la,ll             as              pt                  &lt;NA&gt;
## 4 amp1004             1002             13     co        fo,la,ll             as              pt                  &lt;NA&gt;
## 5 amp1005             1003             30     co        fo,ll,br             as            &lt;NA&gt;                  &lt;NA&gt;
## 6 amp1006             1004             42     co  tp,pp,la,ll,is           &lt;NA&gt;            &lt;NA&gt;                  &lt;NA&gt;
##        period month_start year_start month_finish year_finish effort_months country state state_abbreviation
## 1 mo,da,tw,ni           9       2000            1        2002            16  Brazil Piauí              BR-PI
## 2 mo,da,tw,ni          12       2007            5        2009            17  Brazil Ceará              BR-CE
## 3 mo,da,tw,ni          12       2007            5        2009            17  Brazil Ceará              BR-CE
## 4 mo,da,tw,ni          12       2007            5        2009            17  Brazil Ceará              BR-CE
## 5    mo,da,ni           7       1988            8        2001           157  Brazil Ceará              BR-CE
## 6        &lt;NA&gt;          NA         NA           NA          NA            NA  Brazil Ceará              BR-CE
##              municipality                                site  latitude longitude coordinate_precision altitude temperature
## 1         Canto do Buriti Parque Nacional Serra das Confusões -8.680000 -43.42194                   gm      543       24.98
## 2 São Gonçalo do Amarante                               Dunas -3.545527 -38.85783                   dd       15       26.53
## 3 São Gonçalo do Amarante  Jardim Botânico Municipal de Bauru -3.574194 -38.88869                   dd       29       26.45
## 4 São Gonçalo do Amarante                               Taíba -3.515250 -38.91880                   dd       25       26.55
## 5                Baturité                   Serra de Baturité -4.280556 -38.91083                   gm      750       21.35
## 6             Quebrangulo  Reserva Biológica de Pedra Talhada -9.229167 -36.42806                 &lt;NA&gt;      745       20.45
##   precipitation
## 1           853
## 2          1318
## 3          1248
## 4          1376
## 5          1689
## 6          1249
```

---

# 2.9 Conferir e manejar dados

## **head()**: mostra as primeiras 10 linhas

```r
head(da, 10)
```

```
##         id reference_number species_number record sampled_habitat active_methods passive_methods complementary_methods
## 1  amp1001             1001             19     ab           fo,ll             as              pt                  &lt;NA&gt;
## 2  amp1002             1002             16     co        fo,la,ll             as              pt                  &lt;NA&gt;
## 3  amp1003             1002             14     co        fo,la,ll             as              pt                  &lt;NA&gt;
## 4  amp1004             1002             13     co        fo,la,ll             as              pt                  &lt;NA&gt;
## 5  amp1005             1003             30     co        fo,ll,br             as            &lt;NA&gt;                  &lt;NA&gt;
## 6  amp1006             1004             42     co  tp,pp,la,ll,is           &lt;NA&gt;            &lt;NA&gt;                  &lt;NA&gt;
## 7  amp1007             1005             23     co              sp             as            &lt;NA&gt;                  &lt;NA&gt;
## 8  amp1008             1005             19     co        sp,la,sw       as,sb,tr            &lt;NA&gt;                  &lt;NA&gt;
## 9  amp1009             1005             13     ab              fo           &lt;NA&gt;              pt                  &lt;NA&gt;
## 10 amp1010             1006              1     ab              fo           &lt;NA&gt;              pt                  &lt;NA&gt;
##         period month_start year_start month_finish year_finish effort_months country               state state_abbreviation
## 1  mo,da,tw,ni           9       2000            1        2002            16  Brazil               Piauí              BR-PI
## 2  mo,da,tw,ni          12       2007            5        2009            17  Brazil               Ceará              BR-CE
## 3  mo,da,tw,ni          12       2007            5        2009            17  Brazil               Ceará              BR-CE
## 4  mo,da,tw,ni          12       2007            5        2009            17  Brazil               Ceará              BR-CE
## 5     mo,da,ni           7       1988            8        2001           157  Brazil               Ceará              BR-CE
## 6         &lt;NA&gt;          NA         NA           NA          NA            NA  Brazil               Ceará              BR-CE
## 7         &lt;NA&gt;           4       2007            4        2009            24  Brazil               Ceará              BR-CE
## 8        tw,ni           4       2007            4        2009            24  Brazil               Ceará              BR-CE
## 9  mo,da,tw,ni           4       2007            4        2009            24  Brazil               Ceará              BR-CE
## 10 mo,da,tw,ni           5       2011            7        2011             2  Brazil Rio Grande do Norte              BR-RN
##               municipality                                site  latitude longitude coordinate_precision altitude temperature
## 1          Canto do Buriti Parque Nacional Serra das Confusões -8.680000 -43.42194                   gm      543       24.98
## 2  São Gonçalo do Amarante                               Dunas -3.545527 -38.85783                   dd       15       26.53
## 3  São Gonçalo do Amarante  Jardim Botânico Municipal de Bauru -3.574194 -38.88869                   dd       29       26.45
## 4  São Gonçalo do Amarante                               Taíba -3.515250 -38.91880                   dd       25       26.55
## 5                 Baturité                   Serra de Baturité -4.280556 -38.91083                   gm      750       21.35
## 6              Quebrangulo  Reserva Biológica de Pedra Talhada -9.229167 -36.42806                 &lt;NA&gt;      745       20.45
## 7                  Ubajara                Planalto da Ibiapaba -3.846111 -40.89444                  gms      863       21.57
## 8                  Ubajara                Planalto da Ibiapaba -3.825833 -40.91944                  gms      878       21.47
## 9                  Ubajara                Planalto da Ibiapaba -3.837500 -40.91028                  gms      826       21.76
## 10      São José de Mipibu                             Patch A -6.136944 -35.22944                 &lt;NA&gt;       93       25.40
##    precipitation
## 1            853
## 2           1318
## 3           1248
## 4           1376
## 5           1689
## 6           1249
## 7           1520
## 8           1474
## 9           1450
## 10          1332
```

---

# 2.9 Conferir e manejar dados

## **tail()**: mostra as últimas 6 linhas

```r
tail(da)
```

```
##           id reference_number species_number record sampled_habitat active_methods passive_methods complementary_methods
## 1158 amp2158             1389              3     co            &lt;NA&gt;           &lt;NA&gt;            &lt;NA&gt;                  &lt;NA&gt;
## 1159 amp2159             1389              9     co            &lt;NA&gt;           &lt;NA&gt;            &lt;NA&gt;                  &lt;NA&gt;
## 1160 amp2160             1389              6     co            &lt;NA&gt;           &lt;NA&gt;            &lt;NA&gt;                  &lt;NA&gt;
## 1161 amp2161             1389              1     co            &lt;NA&gt;           &lt;NA&gt;            &lt;NA&gt;                  &lt;NA&gt;
## 1162 amp2162             1389              2     co            &lt;NA&gt;           &lt;NA&gt;            &lt;NA&gt;                  &lt;NA&gt;
## 1163 amp2163             1389              2     co            &lt;NA&gt;           &lt;NA&gt;            &lt;NA&gt;                  &lt;NA&gt;
##      period month_start year_start month_finish year_finish effort_months   country    state state_abbreviation
## 1158   &lt;NA&gt;          NA         NA           NA          NA            NA Argentina Misiones               AR-N
## 1159   &lt;NA&gt;          NA         NA           NA          NA            NA Argentina Misiones               AR-N
## 1160   &lt;NA&gt;          NA         NA           NA          NA            NA Argentina Misiones               AR-N
## 1161   &lt;NA&gt;          NA         NA           NA          NA            NA Argentina Misiones               AR-N
## 1162   &lt;NA&gt;          NA         NA           NA          NA            NA Argentina Misiones               AR-N
## 1163   &lt;NA&gt;          NA         NA           NA          NA            NA Argentina Misiones               AR-N
##         municipality                          site  latitude longitude coordinate_precision altitude temperature
## 1158 Manuel Belgrano          Comandante Andresito -25.66944 -54.04556                  gms      251       19.94
## 1159         Posadas                       Posadas -27.45333 -55.89250                  gms      105       21.30
## 1160      Montecarlo                    Montecarlo -26.56889 -53.60889                  gms      597       18.35
## 1161       San Pedro                Refugio Moconá -27.14083 -53.92611                  gms      202       19.92
## 1162        Cainguás Balneario Municipal Cuñá Pirú -27.08722 -54.95278                  gms      213       21.04
## 1163           Oberá       Chacra San Juan de Dios -27.47333 -55.17194                  gms      254       20.67
##      precipitation
## 1158          1780
## 1159          1768
## 1160          1954
## 1161          1850
## 1162          1553
## 1163          1683
```

---

# 2.9 Conferir e manejar dados

## **nrow()**: mostra o número de linhas

```r
nrow(da)
```

```
## [1] 1163
```

--

## **ncol()**: mostra o número de colunas

```r
ncol(da)
```

```
## [1] 25
```

--

## **dim()**: mostra o número de linhas e de colunas

```r
dim(da)
```

```
## [1] 1163   25
```

---

# 2.9 Conferir e manejar dados

## **rownames()**: mostra os nomes das linhas (locais)

```r
rownames(da)
```

```
##    [1] "1"    "2"    "3"    "4"    "5"    "6"    "7"    "8"    "9"    "10"   "11"   "12"   "13"   "14"   "15"   "16"   "17"  
##   [18] "18"   "19"   "20"   "21"   "22"   "23"   "24"   "25"   "26"   "27"   "28"   "29"   "30"   "31"   "32"   "33"   "34"  
##   [35] "35"   "36"   "37"   "38"   "39"   "40"   "41"   "42"   "43"   "44"   "45"   "46"   "47"   "48"   "49"   "50"   "51"  
##   [52] "52"   "53"   "54"   "55"   "56"   "57"   "58"   "59"   "60"   "61"   "62"   "63"   "64"   "65"   "66"   "67"   "68"  
##   [69] "69"   "70"   "71"   "72"   "73"   "74"   "75"   "76"   "77"   "78"   "79"   "80"   "81"   "82"   "83"   "84"   "85"  
##   [86] "86"   "87"   "88"   "89"   "90"   "91"   "92"   "93"   "94"   "95"   "96"   "97"   "98"   "99"   "100"  "101"  "102" 
##  [103] "103"  "104"  "105"  "106"  "107"  "108"  "109"  "110"  "111"  "112"  "113"  "114"  "115"  "116"  "117"  "118"  "119" 
##  [120] "120"  "121"  "122"  "123"  "124"  "125"  "126"  "127"  "128"  "129"  "130"  "131"  "132"  "133"  "134"  "135"  "136" 
##  [137] "137"  "138"  "139"  "140"  "141"  "142"  "143"  "144"  "145"  "146"  "147"  "148"  "149"  "150"  "151"  "152"  "153" 
##  [154] "154"  "155"  "156"  "157"  "158"  "159"  "160"  "161"  "162"  "163"  "164"  "165"  "166"  "167"  "168"  "169"  "170" 
##  [171] "171"  "172"  "173"  "174"  "175"  "176"  "177"  "178"  "179"  "180"  "181"  "182"  "183"  "184"  "185"  "186"  "187" 
##  [188] "188"  "189"  "190"  "191"  "192"  "193"  "194"  "195"  "196"  "197"  "198"  "199"  "200"  "201"  "202"  "203"  "204" 
##  [205] "205"  "206"  "207"  "208"  "209"  "210"  "211"  "212"  "213"  "214"  "215"  "216"  "217"  "218"  "219"  "220"  "221" 
##  [222] "222"  "223"  "224"  "225"  "226"  "227"  "228"  "229"  "230"  "231"  "232"  "233"  "234"  "235"  "236"  "237"  "238" 
##  [239] "239"  "240"  "241"  "242"  "243"  "244"  "245"  "246"  "247"  "248"  "249"  "250"  "251"  "252"  "253"  "254"  "255" 
##  [256] "256"  "257"  "258"  "259"  "260"  "261"  "262"  "263"  "264"  "265"  "266"  "267"  "268"  "269"  "270"  "271"  "272" 
##  [273] "273"  "274"  "275"  "276"  "277"  "278"  "279"  "280"  "281"  "282"  "283"  "284"  "285"  "286"  "287"  "288"  "289" 
##  [290] "290"  "291"  "292"  "293"  "294"  "295"  "296"  "297"  "298"  "299"  "300"  "301"  "302"  "303"  "304"  "305"  "306" 
##  [307] "307"  "308"  "309"  "310"  "311"  "312"  "313"  "314"  "315"  "316"  "317"  "318"  "319"  "320"  "321"  "322"  "323" 
##  [324] "324"  "325"  "326"  "327"  "328"  "329"  "330"  "331"  "332"  "333"  "334"  "335"  "336"  "337"  "338"  "339"  "340" 
##  [341] "341"  "342"  "343"  "344"  "345"  "346"  "347"  "348"  "349"  "350"  "351"  "352"  "353"  "354"  "355"  "356"  "357" 
##  [358] "358"  "359"  "360"  "361"  "362"  "363"  "364"  "365"  "366"  "367"  "368"  "369"  "370"  "371"  "372"  "373"  "374" 
##  [375] "375"  "376"  "377"  "378"  "379"  "380"  "381"  "382"  "383"  "384"  "385"  "386"  "387"  "388"  "389"  "390"  "391" 
##  [392] "392"  "393"  "394"  "395"  "396"  "397"  "398"  "399"  "400"  "401"  "402"  "403"  "404"  "405"  "406"  "407"  "408" 
##  [409] "409"  "410"  "411"  "412"  "413"  "414"  "415"  "416"  "417"  "418"  "419"  "420"  "421"  "422"  "423"  "424"  "425" 
##  [426] "426"  "427"  "428"  "429"  "430"  "431"  "432"  "433"  "434"  "435"  "436"  "437"  "438"  "439"  "440"  "441"  "442" 
##  [443] "443"  "444"  "445"  "446"  "447"  "448"  "449"  "450"  "451"  "452"  "453"  "454"  "455"  "456"  "457"  "458"  "459" 
##  [460] "460"  "461"  "462"  "463"  "464"  "465"  "466"  "467"  "468"  "469"  "470"  "471"  "472"  "473"  "474"  "475"  "476" 
##  [477] "477"  "478"  "479"  "480"  "481"  "482"  "483"  "484"  "485"  "486"  "487"  "488"  "489"  "490"  "491"  "492"  "493" 
##  [494] "494"  "495"  "496"  "497"  "498"  "499"  "500"  "501"  "502"  "503"  "504"  "505"  "506"  "507"  "508"  "509"  "510" 
##  [511] "511"  "512"  "513"  "514"  "515"  "516"  "517"  "518"  "519"  "520"  "521"  "522"  "523"  "524"  "525"  "526"  "527" 
##  [528] "528"  "529"  "530"  "531"  "532"  "533"  "534"  "535"  "536"  "537"  "538"  "539"  "540"  "541"  "542"  "543"  "544" 
##  [545] "545"  "546"  "547"  "548"  "549"  "550"  "551"  "552"  "553"  "554"  "555"  "556"  "557"  "558"  "559"  "560"  "561" 
##  [562] "562"  "563"  "564"  "565"  "566"  "567"  "568"  "569"  "570"  "571"  "572"  "573"  "574"  "575"  "576"  "577"  "578" 
##  [579] "579"  "580"  "581"  "582"  "583"  "584"  "585"  "586"  "587"  "588"  "589"  "590"  "591"  "592"  "593"  "594"  "595" 
##  [596] "596"  "597"  "598"  "599"  "600"  "601"  "602"  "603"  "604"  "605"  "606"  "607"  "608"  "609"  "610"  "611"  "612" 
##  [613] "613"  "614"  "615"  "616"  "617"  "618"  "619"  "620"  "621"  "622"  "623"  "624"  "625"  "626"  "627"  "628"  "629" 
##  [630] "630"  "631"  "632"  "633"  "634"  "635"  "636"  "637"  "638"  "639"  "640"  "641"  "642"  "643"  "644"  "645"  "646" 
##  [647] "647"  "648"  "649"  "650"  "651"  "652"  "653"  "654"  "655"  "656"  "657"  "658"  "659"  "660"  "661"  "662"  "663" 
##  [664] "664"  "665"  "666"  "667"  "668"  "669"  "670"  "671"  "672"  "673"  "674"  "675"  "676"  "677"  "678"  "679"  "680" 
##  [681] "681"  "682"  "683"  "684"  "685"  "686"  "687"  "688"  "689"  "690"  "691"  "692"  "693"  "694"  "695"  "696"  "697" 
##  [698] "698"  "699"  "700"  "701"  "702"  "703"  "704"  "705"  "706"  "707"  "708"  "709"  "710"  "711"  "712"  "713"  "714" 
##  [715] "715"  "716"  "717"  "718"  "719"  "720"  "721"  "722"  "723"  "724"  "725"  "726"  "727"  "728"  "729"  "730"  "731" 
##  [732] "732"  "733"  "734"  "735"  "736"  "737"  "738"  "739"  "740"  "741"  "742"  "743"  "744"  "745"  "746"  "747"  "748" 
##  [749] "749"  "750"  "751"  "752"  "753"  "754"  "755"  "756"  "757"  "758"  "759"  "760"  "761"  "762"  "763"  "764"  "765" 
##  [766] "766"  "767"  "768"  "769"  "770"  "771"  "772"  "773"  "774"  "775"  "776"  "777"  "778"  "779"  "780"  "781"  "782" 
##  [783] "783"  "784"  "785"  "786"  "787"  "788"  "789"  "790"  "791"  "792"  "793"  "794"  "795"  "796"  "797"  "798"  "799" 
##  [800] "800"  "801"  "802"  "803"  "804"  "805"  "806"  "807"  "808"  "809"  "810"  "811"  "812"  "813"  "814"  "815"  "816" 
##  [817] "817"  "818"  "819"  "820"  "821"  "822"  "823"  "824"  "825"  "826"  "827"  "828"  "829"  "830"  "831"  "832"  "833" 
##  [834] "834"  "835"  "836"  "837"  "838"  "839"  "840"  "841"  "842"  "843"  "844"  "845"  "846"  "847"  "848"  "849"  "850" 
##  [851] "851"  "852"  "853"  "854"  "855"  "856"  "857"  "858"  "859"  "860"  "861"  "862"  "863"  "864"  "865"  "866"  "867" 
##  [868] "868"  "869"  "870"  "871"  "872"  "873"  "874"  "875"  "876"  "877"  "878"  "879"  "880"  "881"  "882"  "883"  "884" 
##  [885] "885"  "886"  "887"  "888"  "889"  "890"  "891"  "892"  "893"  "894"  "895"  "896"  "897"  "898"  "899"  "900"  "901" 
##  [902] "902"  "903"  "904"  "905"  "906"  "907"  "908"  "909"  "910"  "911"  "912"  "913"  "914"  "915"  "916"  "917"  "918" 
##  [919] "919"  "920"  "921"  "922"  "923"  "924"  "925"  "926"  "927"  "928"  "929"  "930"  "931"  "932"  "933"  "934"  "935" 
##  [936] "936"  "937"  "938"  "939"  "940"  "941"  "942"  "943"  "944"  "945"  "946"  "947"  "948"  "949"  "950"  "951"  "952" 
##  [953] "953"  "954"  "955"  "956"  "957"  "958"  "959"  "960"  "961"  "962"  "963"  "964"  "965"  "966"  "967"  "968"  "969" 
##  [970] "970"  "971"  "972"  "973"  "974"  "975"  "976"  "977"  "978"  "979"  "980"  "981"  "982"  "983"  "984"  "985"  "986" 
##  [987] "987"  "988"  "989"  "990"  "991"  "992"  "993"  "994"  "995"  "996"  "997"  "998"  "999"  "1000"
##  [ reached getOption("max.print") -- omitted 163 entries ]
```

---

# 2.9 Conferir e manejar dados

## **colnames()**: mostra os nomes das colunas (variáveis)

```r
colnames(da)
```

```
##  [1] "id"                    "reference_number"      "species_number"        "record"                "sampled_habitat"      
##  [6] "active_methods"        "passive_methods"       "complementary_methods" "period"                "month_start"          
## [11] "year_start"            "month_finish"          "year_finish"           "effort_months"         "country"              
## [16] "state"                 "state_abbreviation"    "municipality"          "site"                  "latitude"             
## [21] "longitude"             "coordinate_precision"  "altitude"              "temperature"           "precipitation"
```

---

# 2.9 Conferir e manejar dados

## **str()**: mostra as classes de cada coluna (estrutura)

```r
str(da)
```

```
## 'data.frame':	1163 obs. of  25 variables:
##  $ id                   : Factor w/ 1163 levels "amp1001","amp1002",..: 1 2 3 4 5 6 7 8 9 10 ...
##  $ reference_number     : int  1001 1002 1002 1002 1003 1004 1005 1005 1005 1006 ...
##  $ species_number       : int  19 16 14 13 30 42 23 19 13 1 ...
##  $ record               : Factor w/ 2 levels "ab","co": 1 2 2 2 2 2 2 2 1 1 ...
##  $ sampled_habitat      : Factor w/ 210 levels "br","du","eu,la",..: 27 16 16 16 28 186 145 148 9 9 ...
##  $ active_methods       : Factor w/ 14 levels "as","as,qs","as,qs,tr",..: 1 1 1 1 1 NA 1 5 NA NA ...
##  $ passive_methods      : Factor w/ 7 levels "ar","dr","ft",..: 4 4 4 4 NA NA NA NA 4 4 ...
##  $ complementary_methods: Factor w/ 7 levels "ae","ae,in","ae,rr",..: NA NA NA NA NA NA NA NA NA NA ...
##  $ period               : Factor w/ 11 levels "da","da,ni","da,tw,ni",..: 7 7 7 7 5 NA NA 11 7 7 ...
##  $ month_start          : int  9 12 12 12 7 NA 4 4 4 5 ...
##  $ year_start           : int  2000 2007 2007 2007 1988 NA 2007 2007 2007 2011 ...
##  $ month_finish         : int  1 5 5 5 8 NA 4 4 4 7 ...
##  $ year_finish          : int  2002 2009 2009 2009 2001 NA 2009 2009 2009 2011 ...
##  $ effort_months        : int  16 17 17 17 157 NA 24 24 24 2 ...
##  $ country              : Factor w/ 3 levels "Argentina","Brazil",..: 2 2 2 2 2 2 2 2 2 2 ...
##  $ state                : Factor w/ 23 levels "Alagoas","Amambay",..: 16 5 5 5 5 5 5 5 5 18 ...
##  $ state_abbreviation   : Factor w/ 23 levels "AR-N","BR-AL",..: 11 4 4 4 4 4 4 4 4 14 ...
##  $ municipality         : Factor w/ 405 levels "Afonso Cláudio",..: 78 327 327 327 45 283 388 388 388 332 ...
##  $ site                 : Factor w/ 562 levels "#N/A","Alcoa",..: 344 61 210 541 512 428 387 387 387 358 ...
##  $ latitude             : num  -8.68 -3.55 -3.57 -3.52 -4.28 ...
##  $ longitude            : num  -43.4 -38.9 -38.9 -38.9 -38.9 ...
##  $ coordinate_precision : Factor w/ 4 levels "dd","gm","gms",..: 2 1 1 1 2 NA 3 3 3 NA ...
##  $ altitude             : int  543 15 29 25 750 745 863 878 826 93 ...
##  $ temperature          : num  25 26.5 26.4 26.6 21.4 ...
##  $ precipitation        : int  853 1318 1248 1376 1689 1249 1520 1474 1450 1332 ...
```

---

# 2.9 Conferir e manejar dados

## **summary()**: mostra um resumo dos valores de cada coluna

```r
summary(da)
```

```
##        id       reference_number species_number  record   sampled_habitat  active_methods passive_methods
##  amp1001:   1   Min.   :1001     Min.   : 1.00   ab:346   fo     :114     as      :573    pt     :270    
##  amp1002:   1   1st Qu.:1096     1st Qu.: 7.00   co:817   pp     :108     as,sb   :175    dr     : 21    
##  amp1003:   1   Median :1204     Median :13.00            tp     : 74     as,tr   : 82    pt,ar  :  7    
##  amp1004:   1   Mean   :1196     Mean   :15.17            la     : 51     as,sb,tr: 36    ft     :  6    
##  amp1005:   1   3rd Qu.:1295     3rd Qu.:21.00            sw     : 49     sb      : 36    pt,ft  :  6    
##  amp1006:   1   Max.   :1389     Max.   :80.00            (Other):666     (Other) :103    (Other):  2    
##  (Other):1157                                             NA's   :101     NA's    :158    NA's   :851    
##  complementary_methods         period     month_start       year_start    month_finish     year_finish   effort_months  
##  ae     :187           tw,ni      :269   Min.   : 1.000   Min.   :1940   Min.   : 1.000   Min.   :1983   Min.   :  0.0  
##  tp     : 11           mo,da,tw,ni:256   1st Qu.: 4.000   1st Qu.:2004   1st Qu.: 3.000   1st Qu.:2006   1st Qu.:  5.0  
##  ae,tp  :  8           da,tw,ni   :207   Median : 8.000   Median :2007   Median : 6.000   Median :2009   Median : 11.0  
##  ae,in  :  6           ni         :142   Mean   : 7.058   Mean   :2007   Mean   : 6.375   Mean   :2008   Mean   : 14.3  
##  ae,rr  :  6           mo,ni      : 20   3rd Qu.:10.000   3rd Qu.:2011   3rd Qu.:10.000   3rd Qu.:2012   3rd Qu.: 20.0  
##  (Other):  4           (Other)    : 27   Max.   :12.000   Max.   :2015   Max.   :12.000   Max.   :2017   Max.   :191.0  
##  NA's   :941           NA's       :242   NA's   :69       NA's   :56     NA's   :75       NA's   :58     NA's   :97     
##       country                   state     state_abbreviation                 municipality
##  Argentina:  14   São Paulo        :447   BR-SP  :447        Icém                  : 37  
##  Brazil   :1144   Paraná           :165   BR-PR  :165        Botucatu              : 36  
##  Paraguay :   5   Minas Gerais     :117   BR-MG  :117        Águas de Santa Bárbara: 34  
##                   Bahia            : 89   BR-BA  : 89        Angatuba              : 26  
##                   Rio Grande do Sul: 70   BR-RS  : 70        Assis                 : 21  
##                   Rio de Janeiro   : 60   BR-RJ  : 60        Diamante do Norte     : 21  
##                   (Other)          :215   (Other):215        (Other)               :988  
##                                  site        latitude           longitude         coordinate_precision    altitude     
##  Estação Ecológica de Santa Bárbara: 33   Min.   :-32225.00   Min.   :-52815.00   dd  :157             Min.   :   0.0  
##  Estação Ecológica de Angatuba     : 25   1st Qu.:   -24.95   1st Qu.:   -49.91   gm  :221             1st Qu.: 163.5  
##  Parque Estadual Carlos Botelho    : 19   Median :   -22.73   Median :   -48.38   gms :623             Median : 546.0  
##  Estação Ecológica de Bauru        : 18   Mean   : -1410.05   Mean   : -1115.66   utm : 38             Mean   : 545.6  
##  Estação Ecológica de Assis        : 17   3rd Qu.:   -20.37   3rd Qu.:   -43.28   NA's:124             3rd Qu.: 828.0  
##  (Other)                           :811   Max.   :    -3.52   Max.   :   -34.80                        Max.   :1950.0  
##  NA's                              :240                                                                                
##   temperature    precipitation 
##  Min.   :12.47   Min.   : 773  
##  1st Qu.:18.25   1st Qu.:1246  
##  Median :20.37   Median :1398  
##  Mean   :20.36   Mean   :1457  
##  3rd Qu.:22.43   3rd Qu.:1586  
##  Max.   :26.55   Max.   :2909  
##  NA's   :18      NA's   :18
```

---

# 2.9 Conferir e manejar dados

## Verificar a presença de NAs

```r
# algum?
any(is.na(da))
```

```
## [1] TRUE
```
--

```r
# quais?
which(is.na(da))
```

```
##    [1] 4685 4686 4687 4688 4689 4690 4691 4692 4693 4711 4744 4749 4751 4780 4781 4782 4783 4784 4785 4786 4787 4788 4789
##   [24] 4790 4791 4792 4793 4794 4795 4796 4797 4798 4799 4852 4853 4854 4855 4873 4874 4965 5005 5020 5026 5027 5028 5034
##   [47] 5035 5036 5048 5055 5056 5057 5063 5211 5223 5224 5225 5227 5249 5326 5327 5374 5469 5480 5518 5519 5526 5529 5530
##   [70] 5531 5532 5533 5534 5566 5567 5568 5638 5639 5640 5641 5642 5665 5690 5717 5728 5729 5736 5738 5744 5798 5801 5806
##   [93] 5807 5808 5809 5810 5811 5812 5813 5814 5815 5821 5824 5825 5826 5827 5828 5829 5830 5831 5832 5833 5834 5835 5836
##  [116] 5837 5838 5839 5840 5841 5842 5843 5844 5845 5846 5847 5848 5849 5850 5851 5852 5853 5854 5855 5856 5903 5907 5912
##  [139] 5914 5925 5926 5966 5967 5968 5969 5970 5971 5972 5973 6022 6023 6024 6025 6029 6030 6036 6037 6054 6094 6095 6096
##  [162] 6125 6142 6162 6183 6186 6187 6189 6190 6236 6237 6238 6239 6240 6241 6249 6250 6251 6252 6253 6254 6255 6256 6257
##  [185] 6258 6259 6274 6275 6276 6277 6278 6279 6280 6281 6282 6283 6284 6285 6286 6287 6288 6289 6290 6305 6306 6307 6308
##  [208] 6309 6310 6311 6312 6313 6314 6315 6326 6366 6367 6368 6369 6370 6371 6412 6490 6527 6529 6537 6663 6665 6666 6681
##  [231] 6682 6689 6692 6693 6694 6695 6696 6697 6708 6729 6730 6731 6828 6853 6899 6901 6907 6945 6949 6969 6970 6971 6972
##  [254] 6973 6974 6975 6976 6977 6978 6983 6984 6985 6986 7020 7021 7022 7023 7024 7025 7026 7027 7028 7029 7030 7031 7032
##  [277] 7033 7034 7035 7038 7050 7051 7052 7065 7067 7069 7070 7071 7073 7074 7075 7077 7078 7082 7084 7085 7086 7087 7090
##  [300] 7091 7092 7093 7094 7095 7096 7097 7098 7099 7100 7101 7102 7103 7104 7105 7106 7107 7108 7109 7110 7111 7112 7113
##  [323] 7114 7115 7116 7117 7118 7119 7120 7121 7122 7123 7124 7125 7126 7127 7137 7138 7139 7140 7141 7142 7144 7145 7146
##  [346] 7147 7148 7149 7150 7151 7152 7153 7154 7155 7156 7157 7158 7159 7160 7161 7162 7163 7164 7165 7166 7167 7168 7169
##  [369] 7170 7171 7172 7173 7174 7175 7176 7177 7178 7179 7180 7181 7182 7183 7184 7189 7192 7194 7195 7196 7197 7198 7199
##  [392] 7200 7201 7202 7203 7204 7205 7206 7207 7208 7209 7212 7213 7214 7221 7222 7223 7224 7229 7231 7232 7233 7234 7235
##  [415] 7236 7237 7238 7239 7240 7241 7242 7243 7244 7245 7246 7247 7248 7249 7250 7251 7252 7253 7254 7255 7256 7260 7263
##  [438] 7264 7265 7266 7267 7268 7269 7270 7271 7272 7273 7274 7275 7276 7277 7278 7279 7280 7281 7282 7283 7284 7285 7286
##  [461] 7287 7289 7291 7292 7293 7295 7296 7297 7298 7299 7300 7301 7302 7303 7304 7306 7307 7309 7310 7311 7312 7313 7314
##  [484] 7315 7316 7317 7318 7319 7320 7321 7322 7323 7324 7327 7328 7332 7333 7334 7335 7336 7337 7338 7339 7340 7341 7342
##  [507] 7343 7344 7345 7346 7351 7352 7353 7356 7357 7359 7363 7364 7366 7367 7368 7369 7370 7371 7374 7376 7377 7378 7381
##  [530] 7382 7383 7384 7386 7388 7390 7391 7392 7393 7394 7395 7396 7397 7398 7405 7406 7407 7408 7409 7410 7411 7423 7424
##  [553] 7425 7426 7427 7428 7429 7430 7431 7432 7433 7434 7435 7436 7454 7455 7456 7457 7458 7459 7460 7461 7462 7463 7464
##  [576] 7465 7466 7467 7479 7480 7481 7482 7483 7484 7488 7490 7491 7492 7493 7494 7495 7496 7497 7498 7499 7500 7501 7502
##  [599] 7503 7504 7505 7506 7514 7515 7516 7517 7518 7519 7520 7521 7522 7523 7524 7525 7526 7527 7528 7535 7536 7539 7540
##  [622] 7541 7542 7543 7544 7545 7546 7547 7548 7553 7554 7555 7560 7561 7562 7563 7564 7565 7566 7567 7568 7569 7570 7571
##  [645] 7572 7573 7574 7576 7577 7578 7579 7580 7581 7582 7583 7584 7585 7586 7587 7588 7589 7590 7591 7592 7593 7594 7595
##  [668] 7596 7597 7598 7599 7600 7601 7602 7603 7604 7605 7606 7607 7608 7617 7618 7619 7620 7621 7622 7623 7624 7625 7626
##  [691] 7627 7630 7631 7633 7634 7635 7636 7637 7638 7639 7640 7641 7642 7643 7645 7646 7647 7648 7650 7652 7653 7654 7655
##  [714] 7656 7657 7659 7661 7662 7663 7664 7666 7667 7668 7669 7670 7671 7672 7676 7677 7678 7679 7680 7681 7682 7683 7684
##  [737] 7685 7686 7687 7688 7689 7691 7693 7694 7695 7696 7697 7698 7699 7700 7701 7702 7703 7704 7705 7706 7707 7708 7710
##  [760] 7712 7713 7714 7715 7716 7717 7718 7719 7720 7721 7722 7726 7727 7728 7729 7730 7731 7732 7733 7734 7735 7736 7737
##  [783] 7738 7739 7740 7741 7742 7743 7744 7745 7764 7765 7766 7767 7768 7769 7770 7771 7772 7774 7775 7776 7777 7778 7779
##  [806] 7780 7781 7782 7783 7784 7785 7786 7787 7788 7789 7790 7791 7792 7793 7796 7797 7798 7799 7800 7801 7802 7803 7804
##  [829] 7805 7807 7808 7809 7810 7811 7812 7813 7814 7815 7816 7817 7818 7819 7820 7821 7822 7823 7824 7827 7828 7829 7835
##  [852] 7836 7837 7838 7839 7840 7841 7842 7843 7844 7845 7846 7847 7848 7849 7850 7851 7852 7853 7854 7855 7856 7857 7858
##  [875] 7859 7860 7861 7862 7863 7864 7865 7866 7867 7870 7871 7872 7873 7874 7875 7881 7882 7883 7884 7885 7886 7887 7888
##  [898] 7889 7890 7891 7892 7893 7894 7895 7896 7897 7898 7899 7900 7901 7902 7903 7904 7905 7906 7907 7908 7909 7910 7914
##  [921] 7915 7916 7917 7918 7919 7920 7921 7922 7923 7924 7925 7926 7927 7928 7929 7930 7931 7932 7933 7934 7935 7936 7937
##  [944] 7938 7939 7940 7941 7942 7943 7944 7945 7946 7947 7948 7949 7950 7951 7952 7953 7954 7955 7956 7957 7958 7959 7960
##  [967] 7961 7962 7963 7964 7965 7966 7967 7968 7969 7970 7971 7972 7973 7974 7975 7976 7977 7978 7979 7980 7981 7982 7983
##  [990] 7984 7985 7986 7987 7988 7989 7990 7991 7992 7993 7994
##  [ reached getOption("max.print") -- omitted 2048 entries ]
```

---

# 2.9 Conferir e manejar dados

## Retirar os NAs

```r
da_na &lt;- na.omit(da)
```
--

```r
nrow(da)
```

```
## [1] 1163
```
--

```r
nrow(da_na)
```

```
## [1] 40
```

---

# 2.9 Conferir e manejar dados

## Subset das linhas

```r
# subset das linhas com amostragens em sao paulo
da_sp &lt;- da[da$state == "São Paulo", ]
da_sp
```

```
##          id reference_number species_number record   sampled_habitat active_methods passive_methods complementary_methods
## 410 amp1410             1173             27     ab             fo,ll             qs            &lt;NA&gt;                  &lt;NA&gt;
## 411 amp1411             1174             14     ab              &lt;NA&gt;             as              pt                    ae
## 412 amp1412             1175             10     co                pp             as            &lt;NA&gt;                  &lt;NA&gt;
## 413 amp1413             1176             53     co             fo,is             tr            &lt;NA&gt;                  &lt;NA&gt;
## 414 amp1414             1177             24     co    fo,pp,la,sw,is             as            &lt;NA&gt;                    ae
## 415 amp1415             1178             30     co tp,pp,sw,ll,is,br          as,tr            &lt;NA&gt;                    ae
## 416 amp1416             1178             22     co tp,pp,sw,ll,is,br          as,tr            &lt;NA&gt;                    ae
## 417 amp1417             1178             32     co tp,pp,sw,ll,is,br          as,tr            &lt;NA&gt;                    ae
## 418 amp1418             1178             14     co tp,pp,sw,ll,is,br          as,tr            &lt;NA&gt;                    ae
## 419 amp1419             1178             17     co tp,pp,sw,ll,is,br          as,tr            &lt;NA&gt;                    ae
## 420 amp1420             1178             17     co tp,pp,sw,ll,is,br          as,tr            &lt;NA&gt;                    ae
## 421 amp1421             1179              4     co                fo           &lt;NA&gt;              pt                    ae
## 422 amp1422             1179              4     co                fo           &lt;NA&gt;              pt                    ae
## 423 amp1423             1179              2     co                fo           &lt;NA&gt;              pt                    ae
## 424 amp1424             1179              5     co                fo           &lt;NA&gt;              pt                    ae
## 425 amp1425             1179              5     co                fo           &lt;NA&gt;              pt                    ae
## 426 amp1426             1179              3     co                fo           &lt;NA&gt;              pt                    ae
## 427 amp1427             1179             13     co          sw,ll,br             as            &lt;NA&gt;                    ae
## 428 amp1428             1179              4     co          ll,is,br             as            &lt;NA&gt;                    ae
## 429 amp1429             1179              7     co          la,ll,br             as            &lt;NA&gt;                    ae
## 430 amp1430             1179             14     co          la,ll,br             as            &lt;NA&gt;                    ae
## 431 amp1431             1179              5     co          ll,is,br             as            &lt;NA&gt;                    ae
## 432 amp1432             1179              3     co          tp,ll,br             as            &lt;NA&gt;                    ae
## 433 amp1433             1179             10     co          tp,ll,br             as            &lt;NA&gt;                    ae
## 434 amp1434             1180              3     co                fo           &lt;NA&gt;              pt                    ae
## 435 amp1435             1180              4     co                fo           &lt;NA&gt;              pt                    ae
## 436 amp1436             1180              3     co                fo           &lt;NA&gt;              pt                    ae
## 437 amp1437             1180              1     co                fo           &lt;NA&gt;              pt                    ae
## 438 amp1438             1180              1     co                fo           &lt;NA&gt;              pt                    ae
## 439 amp1439             1180              2     co                fo           &lt;NA&gt;              pt                    ae
## 440 amp1440             1180              2     co                fo           &lt;NA&gt;              pt                    ae
## 441 amp1441             1180              2     co                fo           &lt;NA&gt;              pt                    ae
## 442 amp1442             1180              5     co                fo           &lt;NA&gt;              pt                    ae
## 443 amp1443             1180              5     co                fo           &lt;NA&gt;              pt                    ae
## 444 amp1444             1180              6     co                fo           &lt;NA&gt;              pt                    ae
## 445 amp1445             1180              9     co          la,ll,br             as            &lt;NA&gt;                    ae
## 446 amp1446             1180              2     co          ll,is,br             as            &lt;NA&gt;                    ae
## 447 amp1447             1180              2     co          ll,is,br             as            &lt;NA&gt;                    ae
## 448 amp1448             1180              1     co          ll,is,br             as            &lt;NA&gt;                    ae
## 449 amp1449             1180              6     co          ll,is,br             as            &lt;NA&gt;                    ae
##          period month_start year_start month_finish year_finish effort_months country     state state_abbreviation
## 410       tw,ni           1       2011            1        2012            12  Brazil São Paulo              BR-SP
## 411 mo,da,tw,ni           7       2005            6        2006            11  Brazil São Paulo              BR-SP
## 412       tw,ni          11       1984            4        1986            17  Brazil São Paulo              BR-SP
## 413       tw,ni           4       2001            5        2006            61  Brazil São Paulo              BR-SP
## 414    da,tw,ni           8       2006            1        2007             5  Brazil São Paulo              BR-SP
## 415    da,tw,ni          10       2009           12        2009             2  Brazil São Paulo              BR-SP
## 416    da,tw,ni          10       2009           12        2009             2  Brazil São Paulo              BR-SP
## 417    da,tw,ni          10       2009           12        2009             2  Brazil São Paulo              BR-SP
## 418    da,tw,ni          10       2009           12        2009             2  Brazil São Paulo              BR-SP
## 419    da,tw,ni          10       2009           12        2009             2  Brazil São Paulo              BR-SP
## 420    da,tw,ni          10       2009           12        2009             2  Brazil São Paulo              BR-SP
## 421 mo,da,tw,ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 422 mo,da,tw,ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 423 mo,da,tw,ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 424 mo,da,tw,ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 425 mo,da,tw,ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 426 mo,da,tw,ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 427          ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 428          ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 429          ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 430          ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 431          ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 432          ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 433          ni           9       2007            3        2008             6  Brazil São Paulo              BR-SP
## 434 mo,da,tw,ni          10       2008            3        2009             5  Brazil São Paulo              BR-SP
## 435 mo,da,tw,ni          10       2008            3        2009             5  Brazil São Paulo              BR-SP
## 436 mo,da,tw,ni          10       2008            3        2009             5  Brazil São Paulo              BR-SP
## 437 mo,da,tw,ni          10       2008            3        2009             5  Brazil São Paulo              BR-SP
## 438 mo,da,tw,ni          10       2008            3        2009             5  Brazil São Paulo              BR-SP
## 439 mo,da,tw,ni          10       2008            3        2009             5  Brazil São Paulo              BR-SP
## 440 mo,da,tw,ni          10       2008            3        2009             5  Brazil São Paulo              BR-SP
## 441 mo,da,tw,ni          10       2008            3        2009             5  Brazil São Paulo              BR-SP
## 442 mo,da,tw,ni          10       2008            3        2009             5  Brazil São Paulo              BR-SP
## 443 mo,da,tw,ni          10       2008            3        2009             5  Brazil São Paulo              BR-SP
## 444 mo,da,tw,ni          10       2008            3        2009             5  Brazil São Paulo              BR-SP
## 445          ni           3       2007            3        2009            24  Brazil São Paulo              BR-SP
## 446          ni           3       2007            3        2009            24  Brazil São Paulo              BR-SP
## 447          ni           3       2007            3        2009            24  Brazil São Paulo              BR-SP
## 448          ni           3       2007            3        2009            24  Brazil São Paulo              BR-SP
## 449          ni           3       2007            3        2009            24  Brazil São Paulo              BR-SP
##           municipality                                                                 site     latitude longitude
## 410 São Miguel Arcanjo                                       Parque Estadual Carlos Botelho    -24.05306 -48.01361
## 411            Ubatuba                                     Parque Estadual da Ilha Anchieta    -23.53944 -45.05778
## 412           Cabreúva                                                      Fazenda da Cava    -23.35000 -47.06667
## 413       Pilar do Sul Reservas legais das empresas Eucatex/SA, Cia. Suzano Celulose, Papel    -23.94694 -47.67667
## 414         Pedregulho                              Parque Estadual das Furnas do Bom Jesus    -20.24056 -47.45750
## 415           Iporanga                            Parque Estadual Turístico do Alto Ribeira    -24.32861 -48.59167
## 416           Iporanga                            Parque Estadual Turístico do Alto Ribeira    -24.32833 -48.50972
## 417           Iporanga                            Parque Estadual Turístico do Alto Ribeira    -24.42694 -48.59000
## 418           Iporanga                            Parque Estadual Turístico do Alto Ribeira    -24.49194 -48.56389
## 419           Iporanga                            Parque Estadual Turístico do Alto Ribeira    -24.54611 -48.67778
## 420           Iporanga                            Parque Estadual Turístico do Alto Ribeira    -24.51167 -48.69944
## 421              Assis                                           Estação Ecológica de Assis    -22.59667 -50.36667
## 422              Assis                                           Estação Ecológica de Assis    -22.60111 -50.39056
## 423              Assis                                           Estação Ecológica de Assis    -22.58750 -50.37667
## 424              Assis                                           Estação Ecológica de Assis    -22.57833 -50.36833
## 425              Assis                                           Estação Ecológica de Assis    -22.57222 -50.37806
## 426              Assis                                           Estação Ecológica de Assis    -22.56750 -50.38472
## 427              Assis                                           Estação Ecológica de Assis    -22.59556 -50.36528
## 428              Assis                                           Estação Ecológica de Assis    -22.59722 -50.37083
## 429              Assis                                           Estação Ecológica de Assis    -22.59750 -50.37167
## 430              Assis                                           Estação Ecológica de Assis    -22.57667 -50.36750
## 431              Assis                                           Estação Ecológica de Assis    -22.57222 -50.37778
## 432              Assis                                           Estação Ecológica de Assis    -22.59889 -50.39306
## 433              Assis                                           Estação Ecológica de Assis    -22.59611 -50.39639
## 434           Angatuba                                        Estação Ecológica de Angatuba    -23.41333 -48.37528
## 435           Angatuba                                        Estação Ecológica de Angatuba    -23.41111 -48.38111
## 436           Angatuba                                        Estação Ecológica de Angatuba    -23.40111 -48.38250
## 437           Angatuba                                        Estação Ecológica de Angatuba    -23.39972 -48.37722
## 438           Angatuba                                        Estação Ecológica de Angatuba    -23.39667 -48.36861
## 439           Angatuba                                        Estação Ecológica de Angatuba    -23.40611 -48.34583
## 440           Angatuba                                        Estação Ecológica de Angatuba    -23.40917 -48.34944
## 441           Angatuba                                        Estação Ecológica de Angatuba    -23.39778 -48.33028
## 442           Angatuba                                        Estação Ecológica de Angatuba    -23.40028 -48.32556
## 443           Angatuba                                        Estação Ecológica de Angatuba    -23.42056 -48.33556
## 444           Angatuba                                        Estação Ecológica de Angatuba    -23.42806 -48.33028
## 445           Angatuba                                        Estação Ecológica de Angatuba -23415.00000 -48.36806
## 446           Angatuba                                        Estação Ecológica de Angatuba    -23.39806 -48.37694
## 447           Angatuba                                        Estação Ecológica de Angatuba    -23.39611 -48.36667
## 448           Angatuba                                        Estação Ecológica de Angatuba    -23.39306 -48.36306
## 449           Angatuba                                        Estação Ecológica de Angatuba    -23.41333 -48.35889
##     coordinate_precision altitude temperature precipitation
## 410                  gms      721       18.07          1328
## 411                   gm      219       21.04          2506
## 412                  gms      682       18.86          1321
## 413                  gms      873       17.17          1620
## 414                  gms      852       20.58          1550
## 415                  gms      949       17.05          1424
## 416                  gms      724       18.33          1393
## 417                  gms      744       18.30          1430
## 418                  gms      165       21.98          1431
## 419                  gms      241       21.49          1381
## 420                  gms      656       18.91          1397
## 421                  gms      551       20.67          1205
## 422                  gms      581       20.55          1215
## 423                  gms      589       20.51          1215
## 424                  gms      549       20.72          1207
## 425                  gms      559       20.70          1214
## 426                  gms      581       20.62          1219
## 427                  gms      535       20.77          1204
## 428                  gms      551       20.67          1205
## 429                  gms      551       20.67          1205
## 430                  gms      549       20.72          1207
## 431                  gms      559       20.70          1214
## 432                  gms      585       20.58          1216
## 433                  gms      585       20.58          1216
## 434                  gms      750       19.12          1231
## 435                  gms      750       19.12          1231
## 436                  gms      720       19.28          1224
## 437                  gms      705       19.35          1225
## 438                  gms      688       19.44          1219
## 439                  gms      701       19.29          1223
## 440                  gms      691       19.37          1221
## 441                  gms      660       19.49          1221
## 442                  gms      654       19.54          1218
## 443                  gms      664       19.51          1216
## 444                  gms      626       19.72          1207
## 445                  gms      762       19.02          1232
## 446                  gms      705       19.35          1225
## 447                  gms      688       19.44          1219
## 448                  gms      673       19.48          1215
## 449                  gms      749       19.09          1228
##  [ reached 'max' / getOption("max.print") -- omitted 407 rows ]
```

---

# 2.10 Exportar dados

## Exportar uma tabela de dados na pasta do diretório

--

### Planilha eletrônica (.csv)

```r
write.csv(da_sp, "ATLANTIC_AMPHIBIAN_sites_sao_paulo.csv", 
          row.names = FALSE, quote = FALSE)
```

--

### Planilha de texto (.txt)

```r
write.table(da_sp, "ATLANTIC_AMPHIBIAN_sites_sao_paulo.txt", 
            row.names = FALSE, quote = FALSE)
```

--

### Planilha eletrônica (.xlsx)

```r
openxlsx::write.xlsx(da_sp, "ATLANTIC_AMPHIBIAN_sites_sao_paulo.xlsx", 
                     row.names = FALSE, quote = FALSE)
```

---

class: clear, inverse, center, middle

# Dúvidas?

---

class: clear, middle

&lt;br&gt;&lt;br&gt;&lt;br&gt;

## Maurício Vancine

&lt;br&gt;

Contatos:

<i class="fas  fa-envelope "></i> [mauricio.vancine@gmail.com](mauricio.vancine@gmail.com)
&lt;br&gt;
<i class="fab  fa-twitter "></i> [mauriciovancine](https://twitter.com/mauriciovancine)
&lt;br&gt;
<i class="fas  fa-link "></i> [mauriciovancine.netlify.com](https://mauriciovancine.netlify.com/)

&lt;br&gt;&lt;br&gt;&lt;br&gt;

Slides criados via pacote [xaringan](https://github.com/yihui/xaringan) e tema [Metropolis](https://github.com/pat-s/xaringan-metropolis)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "rainbow",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
